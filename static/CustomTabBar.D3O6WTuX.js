import{I as a,K as t,z as e,D as s}from"./uni.CnKTWU0K.js";import{a6 as o,a7 as c,ad as i,aN as r,az as n,ak as l,aX as d,M as b,aW as u,aP as F,_ as g,aY as h}from"./vendor.CqD9dFNX.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const x=p({name:"CustomTabBar",data:()=>({currentTab:0,tabList:[{pagePath:"/pages/index/index",text:"首页",icon:"🏠",iconColor:"#4A90E2",activeColor:"#FFFFFF"},{pagePath:"/pages/group/index",text:"订阅",icon:"💎",iconColor:"#F5A623",activeColor:"#FFFFFF"},{pagePath:"/pages/order/index",text:"订单",icon:"📋",iconColor:"#7ED321",activeColor:"#FFFFFF"},{pagePath:"/pages/chat/index",text:"聊天",icon:"💬",iconColor:"#BD10E0",activeColor:"#FFFFFF",badge:0},{pagePath:"/pages/profile/index",text:"我的",icon:"👤",iconColor:"#FF6B6B",activeColor:"#FFFFFF"}]}),mounted(){this.updateCurrentTab()},methods:{switchTab(a,t){console.log("switchTab",a,t),this.currentTab!==t&&(this.currentTab=t,s({url:a}))},updateCurrentTab(){try{const a=e();if(a&&a.length>0){const t="/"+a[a.length-1].route,e=this.tabList.findIndex((a=>a.pagePath===t));-1!==e&&(this.currentTab=e)}}catch(a){console.error("更新当前Tab失败",a)}},updateChatBadge(a){const t=this.tabList.findIndex((a=>"/pages/chat/index"===a.pagePath));-1!==t&&this.$set(this.tabList[t],"badge",a)}}},[["render",function(e,s,p,x,C,f){const T=t,m=a;return c(),o(m,{class:"custom-tabbar"},{default:i((()=>[(c(!0),r(n,null,l(C.tabList,((a,t)=>(c(),o(m,{key:t,class:d(["tab-item",{active:C.currentTab===t}]),onClick:e=>f.switchTab(a.pagePath,t)},{default:i((()=>[b(m,{class:"icon-box"},{default:i((()=>[b(m,{class:d(["icon-square",{active:C.currentTab===t}])},{default:i((()=>[b(T,{class:"icon-emoji",style:F({color:C.currentTab===t?a.activeColor:a.iconColor})},{default:i((()=>[g(h(a.icon),1)])),_:2},1032,["style"]),a.badge&&a.badge>0?(c(),o(m,{key:0,class:"badge"},{default:i((()=>[g(h(a.badge>99?"99+":a.badge),1)])),_:2},1024)):u("",!0)])),_:2},1032,["class"])])),_:2},1024),b(T,{class:d(["tab-text",{active:C.currentTab===t}])},{default:i((()=>[g(h(a.text),1)])),_:2},1032,["class"])])),_:2},1032,["class","onClick"])))),128))])),_:1})}],["__scopeId","data-v-bafa68b9"]]);export{x as C};
